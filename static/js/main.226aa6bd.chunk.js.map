{"version":3,"sources":["utils/api.js","components/Table/Table.jsx","redux/page/actions.js","redux/Posts/actions.js","redux/loggedIn/actions.js","components/SignIn/SignIn.jsx","components/SignUp/SignUp.jsx","utils/auth.js","components/ProtectedRoute/ProtectedRoute.jsx","components/App/App.js","redux/page/reducers.js","redux/Posts/reducers.js","redux/loggedIn/reducers.js","redux/reducers.js","index.js"],"names":["api","data","this","_URL","URL","page","fetch","method","then","res","json","catch","err","Promise","reject","status","Table","props","morePosts","dataSource","useSelector","state","posts","reduce","accumulator","post","key","id","columns","title","dataIndex","pagination","defaultPageSize","onChange","PAGE_NUMBER","ADD_MORE_POSTS","LOGGED_IN","SignIn","history","useHistory","useState","loggin","setLoggin","schema","yup","shape","email","required","password","min","max","matches","useForm","mode","resolver","yupResolver","register","handleSubmit","errors","formState","Box","component","style","position","left","top","transform","sx","display","flexDirection","width","Typography","variant","align","mb","onSubmit","handleSignIn","push","TextField","type","label","error","helperText","message","Alert","severity","Button","mt","height","Link","underline","RouterLink","to","SignUp","regPass","confirmPassword","name","handleSignUp","password_confirmation","className","auth","ok","headers","body","JSON","stringify","_checkResponses","ProtectedRoute","loggedIn","children","App","pages","setPages","item","storage","dispatch","useDispatch","useEffect","getPost","per_page","total","total_pages","forEach","element","payload","path","signup","signin","localStorage","setItem","token","dafaultState","defaultState","rootReducer","combineReducers","action","store","createStore","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.226aa6bd.chunk.js","sourcesContent":["class Api {\r\n  constructor(data) {\r\n    this._URL = data.URL\r\n  }\r\n\r\n  // getPost(page) {\r\n  //   return fetch(`${this._URL}/posts/?_limit=3&_page=${page}`, {\r\n  //     method: 'GET',\r\n  //   })\r\n  //     .then((res) => {\r\n  //       return res.json();\r\n  //     })\r\n  //       .then((res) => {\r\n  //         return res;\r\n  //       })\r\n  //         .catch((err) => {\r\n  //           return Promise.reject(`ERROR: ${err.status}`)\r\n  //         });\r\n  // }\r\n  getPost(page) {\r\n    return fetch(`${this._URL}users?page=${page}`, {\r\n      method: 'GET',\r\n    })\r\n      .then((res) => {\r\n        return res.json();\r\n      })\r\n        .then((res) => {\r\n          return res;\r\n        })\r\n          .catch((err) => {\r\n            return Promise.reject(`ERROR: ${err.status}`)\r\n          });\r\n  }\r\n  \r\n}\r\n\r\nconst api = new Api({\r\n  // URL: 'https://jsonplaceholder.typicode.com'\r\n  URL: 'https://reqres.in/api/'\r\n})\r\n\r\nexport default api;","import { Table as AntdTable, Pagination} from 'antd';\r\nimport { useSelector } from 'react-redux';\r\n\r\nfunction Table (props) {\r\n  const {\r\n    // page,\r\n    // per_page,\r\n    // total,\r\n    // total_pages,\r\n    morePosts\r\n  } = props\r\n  const posts = useSelector((state) => state.posts)\r\n  \r\n  const columns = [\r\n    {\r\n      title: 'id',\r\n      dataIndex: 'id',\r\n      key: 'id'\r\n    },\r\n    {\r\n      title: 'user email',\r\n      dataIndex: 'email',\r\n      key: 'email'\r\n    },\r\n    {\r\n      title: 'first_name',\r\n      dataIndex: 'first_name',\r\n      key: 'first_name'\r\n    },\r\n    {\r\n      title: 'last_name',\r\n      dataIndex: 'last_name',\r\n      key: 'last_name'\r\n    }\r\n  ];\r\n  \r\n  let dataSource = posts.reduce((accumulator, post) => {\r\n    post.key = `${post.id}`\r\n    return [...accumulator, post]\r\n  }, []);\r\n\r\n  return (<>\r\n    <AntdTable dataSource={dataSource} columns={columns} pagination={{\r\n      defaultPageSize: 3,\r\n      onChange: morePosts,\r\n    }}/>\r\n  </>)\r\n}\r\n\r\nexport default Table;","export const PAGE_NUMBER = 'PAGE_NUMBER';","export const ADD_MORE_POSTS = 'ADD_MORE_POSTS';","export const LOGGED_IN = 'LOGGED_IN';","// import { useSelector, useDispatch } from 'react-redux';\r\n// import  * as types from '../../redux/signIn/actions'\r\nimport { useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { Box } from '@mui/system';\r\nimport { Button, Typography, Link, Alert} from '@mui/material';\r\nimport TextField from '@mui/material/TextField'\r\nimport { Link as RouterLink, useHistory } from 'react-router-dom'\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\nimport * as yup from \"yup\";\r\n\r\nfunction SignIn(props) {  \r\n\r\n  const history = useHistory();\r\n  const regEmail = /[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,4}$/\r\n  const regPass = /^([^0-9]*)$/\r\n  const [loggin, setLoggin] = useState(false)\r\n\r\n  const schema = yup.object().shape({\r\n    email: yup.string().email('Введите корректный email').required('Обязательное поле'),\r\n    password: yup.string().min(6, 'Пароль должен содержать от 6 до 30 букв').max(30, 'Пароль должен содержать от 6 до 30 букв').matches(regPass, 'Пароль должен содержать от 6 до 30 букв').required('Обязательное поле')\r\n  })\r\n\r\n  const { \r\n    register, \r\n    handleSubmit,\r\n    formState: {\r\n      errors\r\n    }\r\n  } = useForm({\r\n    mode: 'onChange',\r\n    resolver: yupResolver(schema)\r\n  });\r\n\r\n  const onSubmit = data => {\r\n    props.handleSignIn({\r\n      email: data.email,\r\n      password: data.password,\r\n    })\r\n      .then(() => {\r\n        history.push('/')\r\n      })\r\n        .catch(() => {setLoggin(true)})\r\n  }\r\n\r\n  return (\r\n    <Box      \r\n      component='section'\r\n      style={{\r\n        position: 'absolute', \r\n        left: '50%', \r\n        top: '50%',\r\n        transform: 'translate(-50%, -50%)'\r\n      }}\r\n      sx={{\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: 350,\r\n      }}\r\n    >\r\n      <Typography \r\n        component='p'\r\n        variant='h5'\r\n        align='center'\r\n        sx={{\r\n          mb: 2\r\n        }}\r\n      >\r\n        SignIn\r\n      </Typography>\r\n      <Box \r\n        onSubmit={handleSubmit(onSubmit)}\r\n        component='form'\r\n        sx={{\r\n          display: 'flex',\r\n          flexDirection: 'column'\r\n        }}\r\n      >\r\n        <TextField\r\n          type='email'\r\n          variant='outlined'\r\n          sx={{mb: 1}}\r\n          label='Email'\r\n          // ref={register}\r\n          {...register('email')} // {required: true, pattern: regEmail}\r\n          error={!!errors.email}\r\n          helperText={errors?.email?.message}\r\n        />\r\n        <TextField          \r\n          type=\"password\" \r\n          // ref={register}\r\n          {...register('password')} // {required: true, minLength:3, maxLength:30}\r\n          label='Password'\r\n          variant='outlined'\r\n          sx={{mb: 1}}\r\n          error={!!errors.password}\r\n          helperText={errors?.password?.message}\r\n        />\r\n        {loggin &&\r\n        <Alert severity=\"error\">\r\n          <strong>Неправильный логин или пароль</strong>\r\n        </Alert>\r\n        }\r\n        <Button \r\n          type='submit'\r\n          variant='contained'\r\n          sx={{\r\n            mt: 2,\r\n            height: 56\r\n          }}\r\n        >\r\n          Sign In\r\n        </Button>\r\n      </Box>\r\n      <Link \r\n        underline='none'\r\n        component={RouterLink}\r\n        to='/signup'\r\n        sx={{\r\n          mt: 2,\r\n        }}\r\n        align='center'\r\n      >\r\n        Sign Up\r\n      </Link>\r\n    </Box>\r\n  )\r\n}\r\n\r\nexport default SignIn","import { useForm } from 'react-hook-form';\r\nimport { useState } from 'react';\r\nimport Button from '@mui/material/Button';\r\nimport TextField from '@mui/material/TextField'\r\nimport { Box } from '@mui/system';\r\nimport { Typography, Link, Alert } from '@mui/material';\r\nimport { Link as RouterLink, useHistory} from 'react-router-dom';\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\nimport * as yup from \"yup\";\r\n\r\nfunction SignUp(props) {\r\n\r\n  const history = useHistory();\r\n  // const regEmail = /[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,4}$/\r\n  const regPass = /^([^0-9]*)$/\r\n  const [loggin, setLoggin] = useState(false);\r\n\r\n  const schema = yup.object().shape({\r\n    email: yup.string()\r\n      .email('Введите корректный email')\r\n      .required('Обязательное поле'),\r\n    password: yup.string()\r\n      .min(6, 'Пароль должен содержать от 6 до 30 букв')\r\n      .max(30, 'Пароль должен содержать от 6 до 30 букв')\r\n      .matches(regPass, 'Пароль должен содержать от 6 до 30 букв')\r\n      .required('Обязательное поле'),\r\n    confirmPassword: yup.string()\r\n      .min(6, 'Пароль должен содержать от 6 до 30 букв')\r\n      .max(30, 'Пароль должен содержать от 6 до 30 букв')\r\n      .matches(regPass, 'Пароль должен содержать от 6 до 30 букв')\r\n      .required('Обязательное поле'),\r\n    name: yup.string()\r\n      .min(6, 'Имя должен содержать от 6 до 30 букв')\r\n      .max(30, 'Имя должен содержать от 6 до 30 букв')\r\n      .matches(regPass, 'Имя должен содержать от 6 до 30 букв')\r\n      .required('Обязательное поле'),\r\n  })\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: {\r\n      errors\r\n    }\r\n  } = useForm({\r\n    mode: 'onChange',\r\n    resolver: yupResolver(schema)\r\n  });\r\n\r\n  function onSubmit(data) {\r\n    props.handleSignUp({\r\n      name: data.name,\r\n      email: data.email,\r\n      password: data.password,\r\n      password_confirmation: data.confirmPassword\r\n    })\r\n      .then(() => {\r\n        history.push('/signin')\r\n      })\r\n        .catch(() => {setLoggin(true)})\r\n  }\r\n\r\n  return (\r\n    <Box\r\n      style={{\r\n        position: 'absolute', \r\n        left: '50%', \r\n        top: '50%',\r\n        transform: 'translate(-50%, -50%)'\r\n      }}\r\n      sx={{\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: 350\r\n      }}\r\n      component='section'\r\n    >\r\n      <Typography \r\n        variant='h5'\r\n        component='p'\r\n        align='center'\r\n        sx={{\r\n          mb: 2\r\n        }}\r\n      >\r\n        SignUp\r\n      </Typography>\r\n      <Box \r\n        onSubmit={handleSubmit(onSubmit)}\r\n        component='form'\r\n        sx={{\r\n          display: 'flex',\r\n          flexDirection: 'column'\r\n        }}\r\n      >\r\n        <TextField\r\n          label='Name'\r\n          sx={{mb: 1}}\r\n          variant=\"outlined\" \r\n          type=\"text\" \r\n          className='signUp__input' \r\n          {...register('name')} //, {required: true, minLength:3, maxLength:30}\r\n          error={!!errors.name}\r\n          helperText={errors?.name?.message}\r\n        />\r\n        <TextField\r\n          label='Email'\r\n          sx={{mb: 1}}\r\n          variant=\"outlined\"   \r\n          type=\"text\" \r\n          className='signUp__input'\r\n          {...register('email')} //, {required: true, pattern: regEmail}\r\n          error={!!errors.email}\r\n          helperText={errors?.email?.message}\r\n        />\r\n        <TextField\r\n          label='Password'\r\n          sx={{mb: 1}}\r\n          variant=\"outlined\"  \r\n          type=\"password\" \r\n          className='signUp__input'\r\n          {...register('password')} //, {required: true, minLength:3, maxLength:30}\r\n          error={!!errors.password}\r\n          helperText={errors?.password?.message}\r\n        />\r\n        <TextField\r\n          label='Confirm password'\r\n          sx={{mb: 1}}\r\n          variant=\"outlined\"  \r\n          type=\"password\" \r\n          className='signUp__input'\r\n          {...register('confirmPassword')} //, {required: true, minLength:3, maxLength:30}\r\n          error={!!errors.confirmPassword}\r\n          helperText={errors?.confirmPassword?.message}\r\n        />\r\n        {loggin &&\r\n        <Alert severity=\"error\">\r\n          <strong>Этот Email уже используется</strong>\r\n        </Alert>\r\n        }\r\n        <Button\r\n          variant=\"contained\"\r\n          type='submit'\r\n          sx={{\r\n            mt: 2,\r\n            height: 56\r\n          }}\r\n        >\r\n          Sign Up\r\n        </Button>\r\n      </Box>\r\n      <Link \r\n        underline='none'\r\n        component={RouterLink}\r\n        to='/signin'\r\n        sx={{\r\n          mt: 2,\r\n        }}\r\n        align='center'\r\n      >\r\n        Sign Up\r\n      </Link>\r\n    </Box>\r\n  )\r\n}\r\n\r\nexport default SignUp","class Auth {\r\n  constructor(data) {\r\n    this._URL = data.URL\r\n  }\r\n\r\n  _checkResponses (res) {\r\n    if(res.ok) {\r\n      return res.json();\r\n    } return Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n\r\n  signup(data) {\r\n    return fetch(`${this._URL}/register`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        'name': data.name,\r\n        'email': data.email,\r\n        'password': data.password,\r\n        'password_confirmation': data.password_confirmation\r\n      })\r\n    })\r\n      .then(this._checkResponses);\r\n  }\r\n\r\n  signin(data) {\r\n    return fetch (`${this._URL}/token`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        'email': data.email,\r\n        'password': data.password\r\n      })\r\n    })\r\n      .then(this._checkResponses);\r\n  }\r\n}\r\n\r\nconst auth = new Auth({\r\n  URL: 'http://test.flcd.ru/api'\r\n})\r\n\r\nexport default auth;","import { Route, Redirect } from \"react-router-dom\";\r\n\r\nfunction ProtectedRoute(props) {\r\n\r\n  return(\r\n    <Route>\r\n      {props.loggedIn === false && (<Redirect to='/signin'/>)}\r\n      {props.loggedIn && (props.children)}\r\n    </Route>\r\n  )\r\n}\r\n\r\nexport default ProtectedRoute;","import { useEffect, useState } from \"react\";\nimport { Switch, Route } from 'react-router-dom';\nimport api from \"../../utils/api\";\nimport AntdTable from '../Table/Table';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { PAGE_NUMBER } from '../../redux/page/actions';\nimport { ADD_MORE_POSTS } from '../../redux/Posts/actions';\nimport { LOGGED_IN } from '../../redux/loggedIn/actions'\nimport { Button, Typography, Link } from '@mui/material';\nimport { Box } from '@mui/system';\nimport SignIn from '../SignIn/SignIn';\nimport SignUp from '../SignUp/SignUp';\nimport auth from \"../../utils/auth\";\nimport ProtectedRoute from \"../ProtectedRoute/ProtectedRoute\";\n\n\nfunction App() {\n  // debugger;\n\n  const [pages, setPages] = useState({})\n  const item = useSelector((state) => state.page);\n  const storage = useSelector((state) => state)\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    initPosts(item.page)\n  }, [item.page]);\n\n  function initPosts(page) {\n    return api.getPost(page)\n      .then(res => {\n        setPages({\n          page: res.page,\n          per_page: res.per_page,\n          total: res.total,\n          total_pages: res.total_pages\n        })\n        res.data.forEach(element => {\n          dispatch({\n            type: ADD_MORE_POSTS,\n            payload: element\n          })\n        });        \n      })\n  }\n\n  function morePosts() {\n    dispatch({\n      type: PAGE_NUMBER,\n      payload: item.page + 1\n    })\n  }\n\n  function handleSignUp(data) {\n    return auth.signup(data)\n  }\n  \n  function handleSignIn(data) {\n    return auth.signin(data)\n      .then((res) => {\n        dispatch({\n          type: LOGGED_IN,\n          payload: true\n        });\n        localStorage.setItem('jwt', res.token);\n      })\n  }\n\n  return (\n    <Switch>      \n      <Route path='/signup'>\n        <SignUp handleSignUp={handleSignUp}/>\n      </Route>\n      <Route path='/signin'>\n        <SignIn handleSignIn={handleSignIn}/>\n      </Route>\n      <ProtectedRoute path='/' loggedIn={storage.loggedIn.loggedIn}>\n        <Box\n          component='section'\n          sx={{\n            display: 'flex',\n            flexDirection: 'column'\n          }}\n        >\n        <AntdTable pages={pages} morePosts={morePosts}/>\n          {storage.loggedIn.loggedIn && \n          <Typography \n            component='p'\n            variant='h5'\n            align='center'\n            sx={{\n              mb: 2\n            }}\n          >\n          </Typography>}\n        </Box>\n      </ProtectedRoute> \n    </Switch>    \n  );\n}\n\nexport default App;\n","import { PAGE_NUMBER } from './actions'\r\n\r\nconst dafaultState = {\r\n  page: 1\r\n}\r\n\r\nexport const page = (state = dafaultState, action) => {\r\n  switch(action.type) {\r\n    case PAGE_NUMBER:\r\n      return { ...state, page: action.payload}\r\n    default: return state;\r\n  }\r\n}","import { ADD_MORE_POSTS } from \"./actions\";\r\n\r\nconst defaultState = [];\r\n\r\nexport const posts = (state = defaultState, action) => {\r\n  switch (action.type) {\r\n    case ADD_MORE_POSTS:\r\n      return [...state, action.payload];\r\n    default: return state;\r\n  }\r\n}","import { LOGGED_IN } from './actions'\r\n\r\nconst dafaultState = {\r\n  loggedIn: false\r\n}\r\n\r\nexport const loggedIn = (state = dafaultState, action) => {\r\n  switch (action.type) {\r\n    case LOGGED_IN:\r\n      return { ...state, loggedIn: action.payload}\r\n    default: return state;\r\n  }\r\n}","import { combineReducers } from 'redux'\r\nimport { page } from './page/reducers'\r\nimport { posts } from './Posts/reducers'\r\nimport { loggedIn } from './loggedIn/reducers'\r\n\r\nexport const rootReducer = combineReducers({\r\n  page: page,\r\n  posts: posts,\r\n  loggedIn: loggedIn\r\n})","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'antd/dist/antd.css'\nimport App from './components/App/App';\nimport { createStore } from 'redux';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\nimport { rootReducer } from './redux/reducers';\n\nconst store = createStore(rootReducer);\n// console.log(store.getState(), 'check');\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <Provider store={store}>\n        <App />\n      </Provider>\n    </BrowserRouter>    \n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}